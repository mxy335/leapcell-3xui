version: '3.8'

services:
  3x-ui:
    image: ghcr.io/mhsanaei/leap3x-ui:latest
    container_name: 3x-ui
    ports:
      - "2053:2053"    # Web管理界面端口
      - "443:443"      # HTTPS代理端口  
      - "80:80"        # HTTP代理端口
      - "8080:8080"    # 备用端口1
      - "8443:8443"    # 备用端口2
    volumes:
      - ./db:/etc/x-ui/           # 数据库和配置文件
      - ./cert:/root/cert/        # SSL证书目录
      - ./logs:/var/log/          # 日志目录
    environment:
      - TZ=Asia/Shanghai
      - XRAY_VMESS_AEAD_FORCED=false
      - XUI_LOG_LEVEL=info
    restart: unless-stopped
    networks:
      - proxy-network

networks:
  proxy-network:
    driver: bridge
